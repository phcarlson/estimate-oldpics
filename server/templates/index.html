<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
    integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>
  <link rel="stylesheet" href="/static/style.css">

  <title>Image Date Estimation using PyTorch</title>

  <script>
    function upload() {
      console.log('ok')
      alert("I am an alert box!");
    }
  </script>
</head>

<body>
  <script src="//code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>
  <script src="//stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>
  <script src="{{url_for('static', filename='js/main.js')}}" defer></script>

  <div class="container-fluid">
    <div class="row d-flex">
      <div class="col d-flex flex-column justify-content-start">
        <h1 class="display-2"><span class="badge shadow" style="background-color: gray;">Photo Date Estimator</span>
        </h1>
      </div>
    </div>
    <div class="row d-flex align-items-center justify-items-center vh-50">
      <div class="col d-flex flex-column align-items-center justify-items-center">
        <img id="imageToEst" src="{{url_for('static', filename='4036626958.jpg')}}">
      </div>
    </div>

    <div class="row d-flex align-items-center justify-items-center vh-50">
      <div class="col d-flex flex-column align-items-center justify-items-center">

        <div>{{EST_YEAR}}</div>
        <p id="modelSays">Model says, {{MODEL_SPEAK}}</p>


        <form id="formForEst" class="form-signin" method=post enctype=multipart/form-data>
          <!-- <script>
            function loadFile(event) {
              let imgDiv = document.getElementById("imageToEst");
              imgDiv.src = URL.createObjectURL(event.target.files[0]);
              console.log("YO");
            }
          </script> -->
          <div class="row d-flex mb-3">
            <input type="file" name="file" class="form-control-file" id="inputfile">
          </div>
          <div class="row d-flex">
            <button id="uploadButton" class="btn btn-lg btn-secondary btn-block" type="submit">Upload</button>
          </div>
        </form>

      </div>
    </div>

    <div class="col d-flex flex-column justify-content-start">
      <h1 class="display-2"><span class="badge shadow" style="background-color: gray;">Do you want to play a
          game?</span>
      </h1>
    </div>

  </div>














  <script type="text/javascript">


    $('#inputfile').bind('change', function () {
      let fileSize = this.files[0].size / 1024 / 1024; // this gives in MB
      if (fileSize > 1) {
        $("#inputfile").val(null);
        alert('file is too big. images more than 1MB are not allowed')
        return
      }

      let ext = $('#inputfile').val().split('.').pop().toLowerCase();
      if ($.inArray(ext, ['jpg', 'jpeg']) == -1) {
        $("#inputfile").val(null);
        alert('only jpeg/jpg files are allowed!');
      }
    });

    jQuery(document).ready(function ($) {
      $(document).on('frmFormComplete', function (event, form, response) {
        // var formID = $(form).find('input[name="form_id"]').val();
        console.log(response);
      })
    });

  </script>
</body>

</html>